<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<table>
			<tr>
				<th>姓名</th>
				<th>年龄</th>
				<th>性别</th>
				<th>操作</th>
			</tr>
			<tr>
				<td>孟婷亭</td>
				<td>18</td>
				<td>女</td>
				<td>
					<a href="javascript:;">删除</a>
				</td>
			</tr>
			<tr>
				<td>翁皓</td>
				<td>18</td>
				<td>男</td>
				<td>
					<a href="javascript:;">删除</a>
				</td>
			</tr>
			<tr>
				<td>班长</td>
				<td>18</td>
				<td>男</td>
				<td>
					<a href="javascript:;">删除</a>
				</td>
			</tr>
		</table>

		<input type="text" placeholder="请输入姓名" />
		<br />
		<input type="text" placeholder="请输入性别" />
		<br />
		<input type="text" placeholder="请输入年龄" />
		<br />
		<input type="button" name="" id="btn" value="添加" />

		<script type="text/javascript">
			//处理添加逻辑
			var btn = document.getElementById('btn');
			var inputNodes = document.querySelectorAll('input[type="text"]');
			var tBodyNode = document.querySelector('table tbody');

			btn.addEventListener('click', function() {
				var name = inputNodes[0].value;
				var gender = inputNodes[1].value;
				var age = inputNodes[2].value;

				if(name.trim() && gender.trim() && age.trim()) {
					//第三种创建方式
					var trNode = document.createElement('tr');
					var tdName = document.createElement('td');
					tdName.innerHTML = name;
					trNode.appendChild(tdName);

					var tdAge = document.createElement('td');
					tdAge.innerHTML = age;
					trNode.appendChild(tdAge);

					var tdGender = document.createElement('td');
					tdGender.innerHTML = gender;
					trNode.appendChild(tdGender);

					var tdOperate = document.createElement('td');
					tdOperate.innerHTML = '<a href="javascript:;">删除</a>';
					trNode.appendChild(tdOperate);

					tBodyNode.appendChild(trNode);
				}else{
					alert('请输入一个正确的人');
				}

				//添加完成清空文本输入框
				inputNodes[0].value = '';
				inputNodes[1].value = '';
				inputNodes[2].value = '';

			});
		
			//点击删除逻辑
//			如果不用事件委派，默认的是可以删除的，但是新添加的删除不了；
//			var aNodes = document.querySelectorAll('a');
//			
//			for(var i = 0; i < aNodes.length; i++){
//				aNodes[i].onclick = function(){
//					var trNode = this.parentElement.parentElement;
//					tBodyNode.removeChild(trNode);
//				}
//			}
		//用事件委派去处理，就可以直接删除新添加的学生
			tBodyNode.addEventListener('click',function(event){
				event = event || window.event;
				var aNode = event.target || event.srcElement;
				var trNode = aNode.parentElement.parentElement;
				tBodyNode.removeChild(trNode);
			})
			
		
		
		</script>

	</body>

</html>