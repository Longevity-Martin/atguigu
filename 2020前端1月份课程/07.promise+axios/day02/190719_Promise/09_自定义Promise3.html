<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>09_自定义Promise</title>
</head>

<body>
  
  <!-- <script src="./lib/Promise.js"></script> -->
  <script src="./lib/Promise_class.js"></script>
  <script>
    const p0 = Promise.resolveDelay(2, 100)
    const p1 = Promise.resolve(3)
    const p2 = Promise.resolve(Promise.resolve(4))
    const p3 = Promise.resolve(Promise.reject(5))
    const p4 = Promise.reject(6)
    const p5 = Promise.rejectDelay(7, 2000)

    // p1.then(value => {console.log('p1 value', value)})
    // p2.then(value => {console.log('p2 value', value)})
    // p3.catch(reason => {console.log('p3 reason', reason)})
    // p4.catch(reason => {console.log('p4 reason', reason)})

    // const pRace = Promise.race([p0,p1, p4])
    // const pRace = Promise.race([p0, p4, p1])
    // pRace.then(
    //   value => console.log('race value', value),
    //   reason => console.log('race reason', reason),
    // )

    // const pAll = Promise.all([p0,p1, p4])
    // const pAll = Promise.all([p0,p1])
    const pAll = Promise.all([p5,p1])
    pAll.then(
      values => console.log('all values', values),
      reason => console.log('all reason', reason),
    )
  </script>
</body>

</html>